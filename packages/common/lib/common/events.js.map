{"version":3,"sources":["../../src/common/events.js"],"names":["commonPlus","extra","common","_events","recordApi","save","getContext","getNew","load","validate","uploadFile","downloadFile","indexApi","buildIndex","listItems","aggregates","collectionApi","getAllowedRecordTypes","initialise","authApi","authenticate","authenticateTemporaryAccess","createTemporaryAccess","createUser","enableUser","disableUser","loadAccessLevels","getNewAccessLevel","getNewUser","getNewUserAuth","getUsers","saveAccessLevels","isAuthorized","changeMyPassword","setPasswordFromTemporaryCode","scorePassword","isValidPassword","validateUser","validateAccessLevels","setUserAccessLevels","templateApi","saveApplicationHierarchy","saveActionsAndTriggers","actionsApi","execute","_eventsList","makeEvent","area","method","name","areaKey","methodKey","obj","s","push","events","eventsList"],"mappings":"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","sourcesContent":["import { union, reduce } from \"lodash/fp\"\n\nconst commonPlus = extra => union([\"onBegin\", \"onComplete\", \"onError\"])(extra)\n\nconst common = () => commonPlus([])\n\nconst _events = {\n  recordApi: {\n    save: commonPlus([\"onInvalid\", \"onRecordUpdated\", \"onRecordCreated\"]),\n    delete: common(),\n    getContext: common(),\n    getNew: common(),\n    load: common(),\n    validate: common(),\n    uploadFile: common(),\n    downloadFile: common(),\n  },\n  indexApi: {\n    buildIndex: common(),\n    listItems: common(),\n    delete: common(),\n    aggregates: common(),\n  },\n  collectionApi: {\n    getAllowedRecordTypes: common(),\n    initialise: common(),\n    delete: common(),\n  },\n  authApi: {\n    authenticate: common(),\n    authenticateTemporaryAccess: common(),\n    createTemporaryAccess: common(),\n    createUser: common(),\n    enableUser: common(),\n    disableUser: common(),\n    loadAccessLevels: common(),\n    getNewAccessLevel: common(),\n    getNewUser: common(),\n    getNewUserAuth: common(),\n    getUsers: common(),\n    saveAccessLevels: common(),\n    isAuthorized: common(),\n    changeMyPassword: common(),\n    setPasswordFromTemporaryCode: common(),\n    scorePassword: common(),\n    isValidPassword: common(),\n    validateUser: common(),\n    validateAccessLevels: common(),\n    setUserAccessLevels: common(),\n  },\n  templateApi: {\n    saveApplicationHierarchy: common(),\n    saveActionsAndTriggers: common(),\n  },\n  actionsApi: {\n    execute: common(),\n  },\n}\n\nconst _eventsList = []\n\nconst makeEvent = (area, method, name) => `${area}:${method}:${name}`\n\nfor (const areaKey in _events) {\n  for (const methodKey in _events[areaKey]) {\n    _events[areaKey][methodKey] = reduce((obj, s) => {\n      obj[s] = makeEvent(areaKey, methodKey, s)\n      return obj\n    }, {})(_events[areaKey][methodKey])\n  }\n}\n\nfor (const areaKey in _events) {\n  for (const methodKey in _events[areaKey]) {\n    for (const name in _events[areaKey][methodKey]) {\n      _eventsList.push(_events[areaKey][methodKey][name])\n    }\n  }\n}\n\nexport const events = _events\n\nexport const eventsList = _eventsList\n\nexport default { events: _events, eventsList: _eventsList }\n"],"file":"events.js"}